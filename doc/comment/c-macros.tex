% Created 2012-08-16 Thu 04:39
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fixltx2e}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{soul}
\usepackage{textcomp}
\usepackage{marvosym}
\usepackage{wasysym}
\usepackage{latexsym}
\usepackage{amssymb}
\usepackage{hyperref}
\tolerance=1000
\usepackage{minted}
\providecommand{\alert}[1]{\textbf{#1}}

\title{C macros}
\author{Hongbo Zhang}
\date{\today}
\hypersetup{
  pdfkeywords={},
  pdfsubject={},
  pdfcreator={Emacs Org-mode version 7.8.03}}

\begin{document}

\maketitle

\setcounter{tocdepth}{3}
\tableofcontents
\vspace*{1cm}






\section{Token replacement}
\label{sec-1}


\begin{minted}[]{c}
#define SWAP(a, b)  do { a ^= b; b ^= a; a ^= b; } while ( 0 )
int main(){}
\end{minted}

The token replacement is not enough.
\section{Pasting Tokens}
\label{sec-2}


\begin{minted}[]{c}
#define BUILD_FIELD(field) my_struct.inner_struct.union_a.##field
\end{minted}
\section{String-izing Tokens}
\label{sec-3}


\begin{minted}[]{c}
#define PRINT_TOKEN(token) printf(#token " is %d", token)
\end{minted}

\end{document}